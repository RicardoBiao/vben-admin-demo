{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["preview-text/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { defineComponent, computed, h } from 'vue'\r\nimport { useField } from '@formily/vue'\r\nimport { isArr, isValid } from '@formily/shared'\r\nimport {\r\n  createContext,\r\n  resolveComponent,\r\n  useContext,\r\n  composeExport,\r\n} from '../__builtins__/shared'\r\nimport { stylePrefix } from '../__builtins__/configs'\r\nimport type { InputProps } from 'ant-design-vue/lib/input'\r\nimport type { SelectProps } from 'ant-design-vue/lib/select'\r\nimport type {\r\n  CascaderProps,\r\n  CascaderOptionType,\r\n} from 'ant-design-vue/lib/cascader'\r\nimport type { TimePickerProps } from 'ant-design-vue/lib/time-picker'\r\nimport type { DatePickerProps } from 'ant-design-vue/lib/date-picker'\r\nimport type { RangePickerProps } from 'ant-design-vue/lib/date-picker'\r\n\r\nimport { Tag } from 'ant-design-vue'\r\n\r\nimport { Space } from '../space'\r\nimport { observer } from '@formily/reactive-vue'\r\nimport type { Field } from '@formily/core'\r\nimport { formatMomentValue } from '../__builtins__'\r\n\r\nconst prefixCls = `${stylePrefix}-preview-text`\r\nconst PlaceholderContext = createContext('N/A')\r\n\r\nexport const usePlaceholder = (value?: any) => {\r\n  const placeholderCtx = useContext(PlaceholderContext)\r\n  const placeholder = computed(() => {\r\n    return isValid(value) && value !== ''\r\n      ? value\r\n      : resolveComponent(placeholderCtx.value) || 'N/A'\r\n  })\r\n\r\n  return placeholder\r\n}\r\n\r\nconst Select = observer(\r\n  // eslint-disable-next-line vue/one-component-per-file\r\n  defineComponent({\r\n    name: 'PreviewTextSelect',\r\n    props: [],\r\n    setup(_props: SelectProps, { attrs }) {\r\n      const fieldRef = useField<Field>()\r\n      const field = fieldRef.value\r\n      const props = attrs as unknown as SelectProps\r\n      const placeholder = usePlaceholder()\r\n      const getSelected = () => {\r\n        const value = props.value\r\n        if (props.mode === 'multiple' || props.mode === 'tags') {\r\n          if (props.labelInValue) {\r\n            return isArr(value) ? value : []\r\n          }\r\n          return isArr(value)\r\n            ? value.map((val) => ({ label: val, value: val }))\r\n            : []\r\n        } else {\r\n          if (props.labelInValue) {\r\n            return isValid(value) ? [value] : []\r\n          }\r\n          return isValid(value) ? [{ label: value, value }] : []\r\n        }\r\n      }\r\n\r\n      const getLabels = () => {\r\n        const selected = getSelected()\r\n        const dataSource: any[] = field?.dataSource?.length\r\n          ? field.dataSource\r\n          : props?.options?.length\r\n          ? props.options\r\n          : []\r\n        if (!selected.length) {\r\n          return h(\r\n            Tag,\r\n            {},\r\n            {\r\n              default: () => placeholder.value,\r\n            }\r\n          )\r\n        }\r\n        return selected.map((target, key) => {\r\n          const text =\r\n            dataSource?.find((item) => item.value == target?.value)?.label ||\r\n            target?.label\r\n          return h(\r\n            Tag,\r\n            {\r\n              key,\r\n            },\r\n            {\r\n              default: () => text || placeholder.value,\r\n            }\r\n          )\r\n        })\r\n      }\r\n\r\n      return () => {\r\n        return h(\r\n          Space,\r\n          {\r\n            class: [prefixCls],\r\n            style: attrs.style,\r\n          },\r\n          {\r\n            default: () => getLabels(),\r\n          }\r\n        )\r\n      }\r\n    },\r\n  })\r\n)\r\n\r\n// eslint-disable-next-line vue/one-component-per-file\r\nconst Input = observer(\r\n  defineComponent<InputProps>({\r\n    name: 'PreviewTextInput',\r\n    setup(_props, { attrs, slots }) {\r\n      return () => {\r\n        const placeholder = usePlaceholder(attrs.value)\r\n        return h(\r\n          Space,\r\n          {\r\n            class: [prefixCls],\r\n            style: attrs.style,\r\n          },\r\n          {\r\n            default: () => [\r\n              slots?.prepend?.(),\r\n              slots?.prefix?.(),\r\n              placeholder.value,\r\n              slots?.suffix?.(),\r\n              slots?.append?.(),\r\n            ],\r\n          }\r\n        )\r\n      }\r\n    },\r\n  })\r\n)\r\n\r\n// eslint-disable-next-line vue/one-component-per-file\r\nconst Text = defineComponent<any>({\r\n  name: 'PreviewText',\r\n  setup(_props, { attrs }) {\r\n    const placeholder = usePlaceholder()\r\n\r\n    return () => {\r\n      return h(\r\n        'div',\r\n        {\r\n          class: [prefixCls],\r\n          style: attrs.style,\r\n        },\r\n        {\r\n          default: () => placeholder.value,\r\n        }\r\n      )\r\n    }\r\n  },\r\n})\r\n\r\nexport type PreviewCascaderProps = CascaderProps & {\r\n  options: CascaderOptionType[]\r\n}\r\nconst Cascader = observer(\r\n  // eslint-disable-next-line vue/one-component-per-file\r\n  defineComponent({\r\n    name: 'PreviewTextCascader',\r\n    setup(_props: PreviewCascaderProps, { attrs }) {\r\n      const fieldRef = useField<Field>()\r\n      const field = fieldRef.value\r\n      const props = attrs as unknown as PreviewCascaderProps\r\n      const dataSource: any[] = field?.dataSource?.length\r\n        ? field.dataSource\r\n        : props?.options?.length\r\n        ? props.options\r\n        : []\r\n      const placeholder = usePlaceholder()\r\n      const getSelected = () => {\r\n        return isArr(props.value) ? props.value : []\r\n      }\r\n\r\n      const findLabel = (value: any, dataSource: any[]) => {\r\n        for (let i = 0; i < dataSource?.length; i++) {\r\n          const item = dataSource[i]\r\n          if (item?.value === value) {\r\n            return item?.label\r\n          } else {\r\n            const childLabel = findLabel(value, item?.children)\r\n            if (childLabel) return childLabel\r\n          }\r\n        }\r\n      }\r\n\r\n      const getLabels = () => {\r\n        const selected = getSelected()\r\n        if (!selected?.length) {\r\n          return h(\r\n            Tag,\r\n            {},\r\n            {\r\n              default: () => placeholder.value,\r\n            }\r\n          )\r\n        }\r\n        return selected.map((value, key) => {\r\n          const text = findLabel(value, dataSource)\r\n          return h(\r\n            Tag,\r\n            {\r\n              key,\r\n            },\r\n            {\r\n              default: () => text || placeholder.value,\r\n            }\r\n          )\r\n        })\r\n      }\r\n\r\n      return () => {\r\n        return h(\r\n          Space,\r\n          {\r\n            class: [prefixCls],\r\n            style: attrs.style,\r\n          },\r\n          {\r\n            default: () => getLabels(),\r\n          }\r\n        )\r\n      }\r\n    },\r\n  })\r\n)\r\n\r\n// eslint-disable-next-line vue/one-component-per-file\r\nconst TimePicker = defineComponent<TimePickerProps>({\r\n  name: 'PreviewTextTimePicker',\r\n  setup(_props, { attrs }) {\r\n    const props = attrs as unknown as TimePickerProps\r\n    const placeholder = usePlaceholder()\r\n    const getLabels = () => {\r\n      const labels = formatMomentValue(\r\n        props.value,\r\n        props.format,\r\n        placeholder.value\r\n      )\r\n      return isArr(labels) ? labels.join('~') : labels\r\n    }\r\n    return () => {\r\n      return h(\r\n        'div',\r\n        {\r\n          class: [prefixCls],\r\n          style: attrs.style,\r\n        },\r\n        {\r\n          default: () => getLabels() as any,\r\n        }\r\n      )\r\n    }\r\n  },\r\n})\r\n\r\n// eslint-disable-next-line vue/one-component-per-file\r\nconst DatePicker = defineComponent({\r\n  name: 'PreviewTextDatePicker',\r\n  setup(_props: DatePickerProps, { attrs }) {\r\n    const props = attrs as unknown as DatePickerProps\r\n    const placeholder = usePlaceholder()\r\n    const getLabels = () => {\r\n      const labels = formatMomentValue(\r\n        props.value,\r\n        props.format,\r\n        placeholder.value\r\n      )\r\n      return isArr(labels) ? labels.join('~') : labels\r\n    }\r\n    return () => {\r\n      return h(\r\n        'div',\r\n        {\r\n          class: [prefixCls],\r\n          style: attrs.style,\r\n        },\r\n        {\r\n          default: () => getLabels() as any,\r\n        }\r\n      )\r\n    }\r\n  },\r\n})\r\n\r\n// eslint-disable-next-line vue/one-component-per-file\r\nconst DateRangePicker = defineComponent({\r\n  name: 'PreviewTextDatePicker',\r\n  setup(_props: RangePickerProps, { attrs }) {\r\n    const props = attrs as unknown as RangePickerProps\r\n    const placeholder = usePlaceholder()\r\n    const getLabels = () => {\r\n      const labels = formatMomentValue(\r\n        props.value,\r\n        props.format,\r\n        placeholder.value\r\n      )\r\n      return isArr(labels) ? labels.join('~') : labels\r\n    }\r\n    return () => {\r\n      return h(\r\n        'div',\r\n        {\r\n          class: [prefixCls],\r\n          style: attrs.style,\r\n        },\r\n        {\r\n          default: () => getLabels() as any,\r\n        }\r\n      )\r\n    }\r\n  },\r\n})\r\n\r\nexport const PreviewText = composeExport(Text, {\r\n  Input,\r\n  Select,\r\n  Cascader,\r\n  DatePicker,\r\n  DateRangePicker,\r\n  TimePicker,\r\n  Placeholder: PlaceholderContext.Provider,\r\n  usePlaceholder,\r\n})\r\n\r\nexport default PreviewText\r\n"]}