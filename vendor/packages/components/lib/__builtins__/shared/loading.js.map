{"version":3,"file":"loading.js","sourceRoot":"lib/","sources":["__builtins__/shared/loading.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,iDAAwC;AAGjC,IAAM,OAAO,GAAG,UACrB,WAA0B,EAC1B,SAA6B;IAD7B,4BAAA,EAAA,0BAA0B;;;;;;oBAGtB,eAAe,GAAgB,IAAI,CAAA;oBACjC,OAAO,GAAG,UAAU,CAAC;wBACzB,eAAe,GAAG,wBAAO,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC,CAAC,CAAA;oBACnD,CAAC,EAAE,GAAG,CAAC,CAAA;;;;oBAEE,qBAAM,SAAS,EAAE,EAAA;wBAAxB,sBAAO,SAAiB,EAAA;;oBAExB,eAAe,aAAf,eAAe,uBAAf,eAAe,EAAI,CAAA;oBACnB,YAAY,CAAC,OAAO,CAAC,CAAA;;;;;;CAExB,CAAA;AAdY,QAAA,OAAO,WAcnB","sourcesContent":["import { message } from 'ant-design-vue'\r\nimport type { MessageType } from 'ant-design-vue/lib/message'\r\n\r\nexport const loading = async (\r\n  loadingText = 'Loading...',\r\n  processor: () => Promise<any>\r\n) => {\r\n  let loadingInstance: MessageType = null\r\n  const loading = setTimeout(() => {\r\n    loadingInstance = message.loading(loadingText, 0)\r\n  }, 100)\r\n  try {\r\n    return await processor()\r\n  } finally {\r\n    loadingInstance?.()\r\n    clearTimeout(loading)\r\n  }\r\n}\r\n"]}