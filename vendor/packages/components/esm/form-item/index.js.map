{"version":3,"file":"index.js","sourceRoot":"lib/","sources":["form-item/index.ts"],"names":[],"mappings":"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","sourcesContent":["import type { Ref } from 'vue'\r\nimport {\r\n  ref,\r\n  defineComponent,\r\n  // onMounted,\r\n  onBeforeUnmount,\r\n  watch,\r\n  provide,\r\n  h,\r\n} from 'vue'\r\nimport { isVoidField } from '@formily/core'\r\nimport { connect, mapProps } from '@formily/vue'\r\nimport { useFormLayout, FormLayoutShallowContext } from '../form-layout'\r\nimport { composeExport, resolveComponent } from '../__builtins__/shared'\r\nimport { stylePrefix } from '../__builtins__/configs'\r\nimport type { Component } from 'vue'\r\nimport { Tooltip, Popover } from 'ant-design-vue'\r\nimport ResizeObserver from 'resize-observer-polyfill'\r\nimport {\r\n  CloseCircleOutlined,\r\n  CheckCircleOutlined,\r\n  WarningOutlined,\r\n} from '@ant-design/icons-vue'\r\n\r\nexport type FormItemProps = {\r\n  className?: string\r\n  required?: boolean\r\n  label?: string | Component\r\n  colon?: boolean\r\n  tooltip?: string | Component\r\n  layout?: 'vertical' | 'horizontal' | 'inline'\r\n  labelStyle?: Record<string, any>\r\n  labelAlign?: 'left' | 'right'\r\n  labelWrap?: boolean\r\n  labelWidth?: number\r\n  wrapperWidth?: number\r\n  labelCol?: number\r\n  wrapperCol?: number\r\n  wrapperAlign?: 'left' | 'right'\r\n  wrapperWrap?: boolean\r\n  wrapperStyle?: Record<string, any>\r\n  fullness?: boolean\r\n  addonBefore?: string | Component\r\n  addonAfter?: string | Component\r\n  size?: 'small' | 'default' | 'large'\r\n  extra?: string\r\n  feedbackText?: string | Component\r\n  feedbackLayout?: 'loose' | 'terse' | 'popover' | 'none' | (string & unknown)\r\n  feedbackStatus?:\r\n    | 'error'\r\n    | 'warning'\r\n    | 'success'\r\n    | 'pending'\r\n    | (string & unknown)\r\n  tooltipLayout?: 'icon' | 'text'\r\n  feedbackIcon?: string | Component\r\n  asterisk?: boolean\r\n  gridSpan?: number\r\n  bordered?: boolean\r\n  inset?: boolean\r\n}\r\n\r\nconst useOverflow = (containerRef: Ref<HTMLElement>) => {\r\n  const overflow = ref(false)\r\n  let resizeObserver: ResizeObserver | undefined\r\n\r\n  const cleanup = () => {\r\n    if (resizeObserver) {\r\n      resizeObserver.unobserve(containerRef.value)\r\n      resizeObserver = null\r\n    }\r\n  }\r\n\r\n  const observer = () => {\r\n    const container = containerRef.value\r\n    const content = container.querySelector('label')\r\n    const containerWidth = container.getBoundingClientRect().width\r\n    const contentWidth = content?.getBoundingClientRect().width\r\n\r\n    if (containerWidth !== 0) {\r\n      if (contentWidth > containerWidth) {\r\n        overflow.value = true\r\n      } else {\r\n        overflow.value = false\r\n      }\r\n    }\r\n  }\r\n\r\n  const stopWatch = watch(\r\n    () => containerRef.value,\r\n    (el) => {\r\n      cleanup()\r\n\r\n      if (el) {\r\n        resizeObserver = new ResizeObserver(observer)\r\n        resizeObserver.observe(el)\r\n      }\r\n    },\r\n    { immediate: true, flush: 'post' }\r\n  )\r\n\r\n  onBeforeUnmount(() => {\r\n    cleanup()\r\n    stopWatch()\r\n  })\r\n\r\n  return overflow\r\n}\r\n\r\nconst ICON_MAP = {\r\n  error: () => h(CloseCircleOutlined),\r\n  success: () => h(CheckCircleOutlined),\r\n  warning: () => h(WarningOutlined),\r\n}\r\n\r\nexport const FormBaseItem = defineComponent({\r\n  name: 'FormItem',\r\n  props: {\r\n    className: {},\r\n    required: {},\r\n    label: {},\r\n    colon: {},\r\n    layout: {},\r\n    tooltip: {},\r\n    labelStyle: {},\r\n    labelAlign: {},\r\n    labelWrap: {},\r\n    labelWidth: {},\r\n    wrapperWidth: {},\r\n    labelCol: {},\r\n    wrapperCol: {},\r\n    wrapperAlign: {},\r\n    wrapperWrap: {},\r\n    wrapperStyle: {},\r\n    fullness: {},\r\n    addonBefore: {},\r\n    addonAfter: {},\r\n    size: {},\r\n    extra: {},\r\n    feedbackText: {},\r\n    feedbackLayout: {},\r\n    tooltipLayout: {},\r\n    feedbackStatus: {},\r\n    feedbackIcon: {},\r\n    asterisk: {},\r\n    gridSpan: {},\r\n    bordered: { default: true },\r\n    inset: { default: false },\r\n  },\r\n  setup(props, { slots }) {\r\n    const active = ref(false)\r\n    const deepLayoutRef = useFormLayout()\r\n\r\n    const prefixCls = `${stylePrefix}-form-item`\r\n\r\n    const containerRef = ref(null)\r\n    const overflow = useOverflow(containerRef)\r\n\r\n    // onMounted(() => {\r\n    //   containerRef.value = refs.labelContainer\r\n    // })\r\n\r\n    provide(FormLayoutShallowContext, ref(null))\r\n\r\n    return () => {\r\n      const gridStyles: Record<string, any> = {}\r\n\r\n      const deepLayout = deepLayoutRef.value\r\n      const {\r\n        label,\r\n        colon = deepLayout.colon ?? true,\r\n        layout = deepLayout.layout ?? 'horizontal',\r\n        tooltip,\r\n        labelStyle = {},\r\n        labelWrap = deepLayout.labelWrap ?? false,\r\n        labelWidth = deepLayout.labelWidth,\r\n        wrapperWidth = deepLayout.wrapperWidth,\r\n        labelCol = deepLayout.labelCol,\r\n        wrapperCol = deepLayout.wrapperCol,\r\n        wrapperAlign = deepLayout.wrapperAlign ?? 'left',\r\n        wrapperWrap = deepLayout.wrapperWrap,\r\n        wrapperStyle = {},\r\n        fullness = deepLayout.fullness,\r\n        addonBefore,\r\n        addonAfter,\r\n        size = deepLayout.size,\r\n        extra,\r\n        feedbackText,\r\n        feedbackLayout = deepLayout.feedbackLayout ?? 'loose',\r\n        tooltipLayout = deepLayout.tooltipLayout ?? 'icon',\r\n        feedbackStatus,\r\n        feedbackIcon,\r\n        asterisk,\r\n        bordered = deepLayout.bordered,\r\n        inset = deepLayout.inset,\r\n      } = props as FormItemProps\r\n      const labelAlign =\r\n        deepLayout.layout === 'vertical'\r\n          ? props.labelAlign ?? deepLayout.labelAlign ?? 'left'\r\n          : props.labelAlign ?? deepLayout.labelAlign ?? 'right'\r\n\r\n      // 固定宽度\r\n      let enableCol = false\r\n      if (labelWidth || wrapperWidth) {\r\n        if (labelWidth) {\r\n          labelStyle.width = `${labelWidth}px`\r\n          labelStyle.maxWidth = `${labelWidth}px`\r\n        }\r\n        if (wrapperWidth) {\r\n          wrapperStyle.width = `${wrapperWidth}px`\r\n          wrapperStyle.maxWidth = `${wrapperWidth}px`\r\n        }\r\n        // 栅格模式\r\n      } else if (labelCol || wrapperCol) {\r\n        enableCol = true\r\n      }\r\n\r\n      const formatChildren =\r\n        feedbackLayout === 'popover'\r\n          ? h(\r\n              Popover,\r\n              {\r\n                visible: !feedbackText,\r\n                placement: 'top',\r\n              },\r\n              {\r\n                reference: () =>\r\n                  h('div', {}, { default: () => slots.default?.() }),\r\n                default: () => [\r\n                  h(\r\n                    'div',\r\n                    {\r\n                      class: {\r\n                        [`${prefixCls}-${feedbackStatus}-help`]:\r\n                          !!feedbackStatus,\r\n                        [`${prefixCls}-help`]: true,\r\n                      },\r\n                    },\r\n                    {\r\n                      default: () => [\r\n                        feedbackStatus &&\r\n                        ['error', 'success', 'warning'].includes(feedbackStatus)\r\n                          ? ICON_MAP[\r\n                              feedbackStatus as 'error' | 'success' | 'warning'\r\n                            ]()\r\n                          : '',\r\n                        resolveComponent(feedbackText),\r\n                      ],\r\n                    }\r\n                  ),\r\n                ],\r\n              }\r\n            )\r\n          : slots.default?.()\r\n\r\n      const renderLabelText = () => {\r\n        const labelChildren = h(\r\n          'div',\r\n          {\r\n            class: `${prefixCls}-label-content`,\r\n            ref: 'containerRef',\r\n          },\r\n          {\r\n            default: () => [\r\n              asterisk &&\r\n                h(\r\n                  'span',\r\n                  { class: `${prefixCls}-asterisk` },\r\n                  { default: () => ['*'] }\r\n                ),\r\n              h('label', {}, { default: () => [resolveComponent(label)] }),\r\n            ],\r\n          }\r\n        )\r\n        const isTextTooltip = tooltip && tooltipLayout === 'text'\r\n        if (isTextTooltip || overflow.value) {\r\n          return h(\r\n            Tooltip,\r\n            {\r\n              placement: 'top',\r\n            },\r\n            {\r\n              default: () => [labelChildren],\r\n              content: () =>\r\n                h(\r\n                  'div',\r\n                  {},\r\n                  {\r\n                    default: () => [\r\n                      overflow.value && resolveComponent(label),\r\n                      isTextTooltip && resolveComponent(tooltip),\r\n                    ],\r\n                  }\r\n                ),\r\n            }\r\n          )\r\n        } else {\r\n          return labelChildren\r\n        }\r\n      }\r\n      const renderTooltipIcon = () => {\r\n        if (tooltip && tooltipLayout === 'icon') {\r\n          return h(\r\n            'span',\r\n            {\r\n              class: `${prefixCls}-label-tooltip`,\r\n            },\r\n            {\r\n              default: () => [\r\n                h(\r\n                  Tooltip,\r\n                  {\r\n                    placement: 'top',\r\n                  },\r\n                  {\r\n                    default: () => [h('i', { class: 'el-icon-info' }, {})],\r\n                    content: () =>\r\n                      h(\r\n                        'div',\r\n                        {\r\n                          class: `${prefixCls}-label-tooltip-content`,\r\n                        },\r\n                        {\r\n                          default: () => [resolveComponent(tooltip)],\r\n                        }\r\n                      ),\r\n                  }\r\n                ),\r\n              ],\r\n            }\r\n          )\r\n        }\r\n      }\r\n      const renderLabel =\r\n        label &&\r\n        h(\r\n          'div',\r\n          {\r\n            class: {\r\n              [`${prefixCls}-label`]: true,\r\n              [`${prefixCls}-label-tooltip`]:\r\n                (tooltip && tooltipLayout === 'text') || overflow.value,\r\n              [`${prefixCls}-item-col-${labelCol}`]: enableCol && !!labelCol,\r\n            },\r\n            style: labelStyle,\r\n          },\r\n          {\r\n            default: () => [\r\n              // label content\r\n              renderLabelText(),\r\n              // label tooltip\r\n              renderTooltipIcon(),\r\n              // label colon\r\n              label &&\r\n                h(\r\n                  'span',\r\n                  {\r\n                    class: `${prefixCls}-colon`,\r\n                  },\r\n                  { default: () => [colon ? ':' : ''] }\r\n                ),\r\n            ],\r\n          }\r\n        )\r\n\r\n      const renderFeedback =\r\n        !!feedbackText &&\r\n        feedbackLayout !== 'popover' &&\r\n        feedbackLayout !== 'none' &&\r\n        h(\r\n          'div',\r\n          {\r\n            class: {\r\n              [`${prefixCls}-${feedbackStatus}-help`]: !!feedbackStatus,\r\n              [`${prefixCls}-help`]: true,\r\n              [`${prefixCls}-help-enter`]: true,\r\n              [`${prefixCls}-help-enter-active`]: true,\r\n            },\r\n          },\r\n          { default: () => [resolveComponent(feedbackText)] }\r\n        )\r\n\r\n      const renderExtra =\r\n        extra &&\r\n        h('div', { class: `${prefixCls}-extra` }, { default: () => [extra] })\r\n      const renderContent = h(\r\n        'div',\r\n        {\r\n          class: {\r\n            [`${prefixCls}-control`]: true,\r\n            [`${prefixCls}-item-col-${wrapperCol}`]: enableCol && !!wrapperCol,\r\n          },\r\n        },\r\n        {\r\n          default: () => [\r\n            h(\r\n              'div',\r\n              { class: `${prefixCls}-control-content` },\r\n              {\r\n                default: () => [\r\n                  addonBefore &&\r\n                    h(\r\n                      'div',\r\n                      { class: `${prefixCls}-addon-before` },\r\n                      {\r\n                        default: () => [resolveComponent(addonBefore)],\r\n                      }\r\n                    ),\r\n                  h(\r\n                    'div',\r\n                    {\r\n                      class: {\r\n                        [`${prefixCls}-control-content-component`]: true,\r\n                        [`${prefixCls}-control-content-component-has-feedback-icon`]:\r\n                          !!feedbackIcon,\r\n                      },\r\n                      style: wrapperStyle,\r\n                    },\r\n                    {\r\n                      default: () => [\r\n                        formatChildren,\r\n                        feedbackIcon &&\r\n                          h(\r\n                            'div',\r\n                            { class: `${prefixCls}-feedback-icon` },\r\n                            {\r\n                              default: () => [\r\n                                typeof feedbackIcon === 'string'\r\n                                  ? h('i', { class: feedbackIcon }, {})\r\n                                  : resolveComponent(feedbackIcon),\r\n                              ],\r\n                            }\r\n                          ),\r\n                      ],\r\n                    }\r\n                  ),\r\n                  addonAfter &&\r\n                    h(\r\n                      'div',\r\n                      { class: `${prefixCls}-addon-after` },\r\n                      {\r\n                        default: () => [resolveComponent(addonAfter)],\r\n                      }\r\n                    ),\r\n                ],\r\n              }\r\n            ),\r\n            renderFeedback,\r\n            renderExtra,\r\n          ],\r\n        }\r\n      )\r\n      return h(\r\n        'div',\r\n        {\r\n          style: {\r\n            ...gridStyles,\r\n          },\r\n          'data-grid-span': props.gridSpan,\r\n          class: {\r\n            [`${prefixCls}`]: true,\r\n            [`${prefixCls}-layout-${layout}`]: true,\r\n            [`${prefixCls}-${feedbackStatus}`]: !!feedbackStatus,\r\n            [`${prefixCls}-feedback-has-text`]: !!feedbackText,\r\n            [`${prefixCls}-size-${size}`]: !!size,\r\n            [`${prefixCls}-feedback-layout-${feedbackLayout}`]:\r\n              !!feedbackLayout,\r\n            [`${prefixCls}-fullness`]: !!fullness || !!inset || !!feedbackIcon,\r\n            [`${prefixCls}-inset`]: !!inset,\r\n            [`${prefixCls}-active`]: active.value,\r\n            [`${prefixCls}-inset-active`]: !!inset && active.value,\r\n            [`${prefixCls}-label-align-${labelAlign}`]: true,\r\n            [`${prefixCls}-control-align-${wrapperAlign}`]: true,\r\n            [`${prefixCls}-label-wrap`]: !!labelWrap,\r\n            [`${prefixCls}-control-wrap`]: !!wrapperWrap,\r\n            [`${prefixCls}-bordered-none`]:\r\n              bordered === false || !!inset || !!feedbackIcon,\r\n            [`${props.className}`]: !!props.className,\r\n          },\r\n          on: {\r\n            '!focus': () => {\r\n              if (feedbackIcon || inset) {\r\n                active.value = true\r\n              }\r\n            },\r\n            '!blur': () => {\r\n              if (feedbackIcon || inset) {\r\n                active.value = false\r\n              }\r\n            },\r\n          },\r\n        },\r\n        {\r\n          default: () => [renderLabel, renderContent],\r\n        }\r\n      )\r\n    }\r\n  },\r\n})\r\n\r\nconst Item = connect(\r\n  FormBaseItem,\r\n  mapProps(\r\n    { validateStatus: true, title: 'label', required: true },\r\n    (props, field) => {\r\n      if (isVoidField(field)) return props\r\n      if (!field) return props\r\n      const takeMessage = () => {\r\n        const split = (messages: any[]) => {\r\n          return messages.reduce((buf, text, index) => {\r\n            if (!text) return buf\r\n            return index < messages.length - 1\r\n              ? buf.concat([text, ', '])\r\n              : buf.concat([text])\r\n          }, [])\r\n        }\r\n        if (field.validating) return\r\n        if (props.feedbackText) return props.feedbackText\r\n        if (field.selfErrors.length) return split(field.selfErrors)\r\n        if (field.selfWarnings.length) return split(field.selfWarnings)\r\n        if (field.selfSuccesses.length) return split(field.selfSuccesses)\r\n      }\r\n      const errorMessages = takeMessage()\r\n      return {\r\n        feedbackText: Array.isArray(errorMessages)\r\n          ? errorMessages.join(', ')\r\n          : errorMessages,\r\n        extra: props.extra || field.description,\r\n      }\r\n    },\r\n    (props, field) => {\r\n      if (isVoidField(field)) return props\r\n      if (!field) return props\r\n      return {\r\n        feedbackStatus:\r\n          field.validateStatus === 'validating'\r\n            ? 'pending'\r\n            : (Array.isArray(field.decorator) &&\r\n                field.decorator[1]?.feedbackStatus) ||\r\n              field.validateStatus,\r\n      }\r\n    },\r\n    (props, field) => {\r\n      if (isVoidField(field)) return props\r\n\r\n      if (!field) return props\r\n      let asterisk = false\r\n      if (field.required && field.pattern !== 'readPretty') {\r\n        asterisk = true\r\n      }\r\n      if ('asterisk' in props) {\r\n        asterisk = props.asterisk\r\n      }\r\n      return {\r\n        asterisk,\r\n      }\r\n    }\r\n  )\r\n)\r\n\r\nexport const FormItem = composeExport(Item, {\r\n  BaseItem: FormBaseItem,\r\n})\r\n\r\nexport default FormItem\r\n"]}